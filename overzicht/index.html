<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Projecten & Opdrachten</title>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#ffd736',
          },
          boxShadow: {
            card: '0 4px 12px rgba(0, 0, 0, 0.1)',
          },
        },
      },
    };
  </script>
  <style>
    /* Optional: smoother blur effect on supported browsers */
    .glass {
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }
  </style>
</head>
<body class="bg-black text-white min-h-screen font-sans p-4">

  <!-- Header -->
  <header class="text-center mb-8">
    <h1 class="text-4xl sm:text-5xl font-bold text-primary drop-shadow-lg">
      Projecten & opdrachten
    </h1>
    <p class="mt-2 text-gray-300">
      Bekijk actuele projecten, filter op status, tags of zoek op titel en opdrachtgever.
    </p>
  </header>

  <!-- Main -->
  <main x-data="projectsList()" class="space-y-6">

    <!-- Filters -->
    <div class="flex flex-col sm:flex-row sm:items-center gap-2">
      <input
        x-model="query"
        type="text"
        placeholder="Zoek (titel, opdrachtgever, locatie, tag)…"
        class="flex-1 px-4 py-2 rounded-lg border border-gray-600 bg-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary"
      />
      <select
        x-model="selectedStatus"
        class="px-4 py-2 rounded-lg border border-gray-600 bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary"
      >
        <option value="">Alle statussen</option>
        <option value="Open">Open</option>
        <option value="Bezig">Bezig</option>
        <option value="Gesloten">Gesloten</option>
      </select>
      <template x-if="selectedTag">
        <div class="mt-2 sm:mt-0 sm:ml-4 flex items-center space-x-2 text-sm">
          <span>Filter op tag:</span>
          <span class="inline-block bg-primary/20 text-primary font-semibold px-2 py-0.5 rounded">
            <span x-text="selectedTag"></span>
          </span>
          <button
            @click="selectedTag=''; query=''; selectedStatus=''"
            class="text-primary hover:underline focus:outline-none"
          >
            ✕ Reset
          </button>
        </div>
      </template>
    </div>

    <!-- Table Container (Glassmorphism) -->
    <div class="overflow-x-auto rounded-xl border border-white/10 bg-white/5 glass shadow-xl">

      <table class="min-w-full text-sm divide-y divide-white/10">
        <thead class="bg-white/10 text-white/80">
          <tr>
            <th class="px-4 py-3 text-left text-xs font-semibold uppercase">Titel</th>
            <th class="px-4 py-3 text-left text-xs font-semibold uppercase">Opdrachtgever</th>
            <th class="px-4 py-3 text-left text-xs font-semibold uppercase">Locatie</th>
            <th class="px-4 py-3 text-left text-xs font-semibold uppercase">Beschrijving</th>
            <th class="px-4 py-3 text-left text-xs font-semibold uppercase">Tags</th>
            <th class="px-4 py-3 text-left text-xs font-semibold uppercase">Status</th>
            <th class="px-4 py-3 text-left text-xs font-semibold uppercase">Periode</th>
            <th class="px-4 py-3 text-left text-xs font-semibold uppercase">Rollen</th>
            <th class="px-4 py-3 text-left text-xs font-semibold uppercase">→</th>
          </tr>
        </thead>
        <tbody>
          <template x-for="project in filteredProjects()" :key="project.id">
            <tr
              @click="window.location.href = project.link"
              class="cursor-pointer transition-all duration-300 transform hover:scale-[1.01] hover:bg-white/10 hover:backdrop-blur-md hover:shadow-lg hover:border hover:border-white/10 rounded-md"
              tabindex="0"
              @keydown.enter="window.location.href = project.link"
              @keydown.space.prevent="window.location.href = project.link"
            >
              <td class="px-4 py-3 font-medium text-white" x-text="project.title"></td>
              <td class="px-4 py-3 text-white" x-text="project.client"></td>
              <td class="px-4 py-3 text-white" x-text="project.location"></td>
              <td class="px-4 py-3 text-white" x-text="project.description"></td>
              <td class="px-4 py-3">
                <template x-for="tag in project.tags" :key="tag">
                  <button
                    @click.stop.prevent="selectedTag = tag; query=''; selectedStatus=''"
                    class="inline-block bg-primary/20 text-primary text-xs font-semibold mr-1 px-2 py-0.5 rounded hover:bg-primary/40 transition"
                    type="button"
                  >
                    <span x-text="tag"></span>
                  </button>
                </template>
              </td>
              <td class="px-4 py-3">
                <span
                  x-text="project.status"
                  :class="{
                    'bg-green-100 text-green-800': project.status === 'Open',
                    'bg-yellow-100 text-yellow-800': project.status === 'Bezig',
                    'bg-red-100 text-red-800': project.status === 'Gesloten'
                  }"
                  class="text-xs font-semibold px-2 py-1 rounded"
                ></span>
              </td>
              <td class="px-4 py-3 text-white" x-text="(project.start || '-') + ' – ' + (project.end || '-')"></td>
              <td class="px-4 py-3 text-white" x-text="project.roles.join(', ')"></td>
              <td class="px-4 py-3 text-white text-center">→</td>
            </tr>
          </template>
        </tbody>
      </table>

      <div x-show="filteredProjects().length === 0" class="p-4 text-center text-gray-400">
        Geen projecten gevonden.
      </div>

    </div>
  </main>

  <!-- Alpine.js Component Logic -->
  <script>
    function projectsList() {
      return {
        query: '',
        selectedStatus: '',
        selectedTag: '',
        projects: [
          {
            id: 1,
            title: 'Digitally Autonomous Work environment (DAW)',
            client: 'Rijksoverheid',
            location: 'Nederland',
            description: 'Creative Developer‑rol voor het ontwikkelen van een Digitally Autonomous Work Environment.',
            tags: ['Open Source', 'Overheid', 'Innovatie'],
            status: 'Open',
            start: '2025‑09',
            end: '',
            roles: ['Creative Developer', 'Communicatie'],
            link: 'http://hnnw.nl/daw/'
          },
          {
            id: 2,
            title: 'Global Universities',
            client: 'CSIRT.global',
            location: 'Internationaal',
            description: 'Onderzoek naar cybersecuritykwetsbaarheden in universiteiten wereldwijd.',
            tags: ['Cybersecurity', 'Onderzoek'],
            status: 'Open',
            start: '',
            end: '',
            roles: ['Security Researcher'],
            link: 'https://csirt.global/projects/pgu/'
          },
          {
            id: 3,
            title: 'Building DIVD.works',
            client: 'DIVD',
            location: 'Online',
            description: 'Bouwen aan het platform DIVD.works: tools, documentatie en workflows.',
            tags: ['Development', 'Platform', 'Tools'],
            status: 'Open',
            start: '',
            end: '',
            roles: ['Developer', 'Documentatie'],
            link: 'https://divd.works/'
          },
          {
            id: 4,
            title: 'Project ICY',
            client: 'Nederlandse Overheid',
            location: 'Nederland',
            description: 'Open‑source alternatief voor surveys binnen de overheid.',
            tags: ['Survey', 'Open Source'],
            status: 'Open',
            start: '',
            end: '',
            roles: ['Developer'],
            link: 'https://github.com/SSC-ICT-Innovatie/ICY'
          },
          {
            id: 5,
            title: 'VLAM.ai (Veilige Lokale AI Modellen)',
            client: 'DIVD',
            location: 'Nederland',
            description: 'Open‑source vervolg op LearningLion gericht op veilige, lokale AI‑modellen.',
            tags: ['AI', 'Open Source', 'Privacy'],
            status: 'Open',
            start: '',
            end: '',
            roles: ['AI Researcher', 'Developer'],
            link: 'https://vlam.ai/'
          },
          {
            id: 6,
            title: 'LearningLion',
            client: 'SSC‑ICT',
            location: 'Nederland',
            description: 'Lokaal taalmodel met RAG‑technologie, privacy‑gericht.',
            tags: ['AI', 'RAG', 'Privacy'],
            status: 'Gesloten',
            start: '',
            end: '2025‑08',
            roles: ['NLP', 'Privacy Consultant'],
            link: 'https://learninglion.nl/'
          },
          {
            id: 7,
            title: 'Digitaal Veilig Den Haag',
            client: 'Gemeente Den Haag',
            location: 'Den Haag',
            description: 'Hackcursussen en stages voor jongeren uit ondervertegenwoordigde groepen.',
            tags: ['Cybersecurity', 'Educatie', 'Diversiteit'],
            status: 'Gesloten',
            start: '',
            end: '2025‑06',
            roles: ['Trainer', 'Community Builder'],
            link: 'https://www.denhaag.nl/nl/projecten-en-themas/digitaal-den-haag/'
          }
        ],
        filteredProjects() {
          return this.projects.filter(p => {
            const q = this.query.toLowerCase();
            const matchesQuery = p.title.toLowerCase().includes(q) ||
                                 p.client.toLowerCase().includes(q) ||
                                 p.location.toLowerCase().includes(q) ||
                                 p.tags.some(tag => tag.toLowerCase().includes(q));
            const matchesStatus = this.selectedStatus === '' || p.status === this.selectedStatus;
            const matchesTag = this.selectedTag === '' || p.tags.includes(this.selectedTag);
            return matchesQuery && matchesStatus && matchesTag;
          });
        }
      }
    }
  </script>

</body>
</html>
